<!-- employee.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1"
  />
  <title>New Quote</title>
  <!-- in <head> above your style.css link -->
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap"
    rel="stylesheet"
  />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    integrity="sha512-MNH0TkN1Ua4+Rz5q7TnAyzmP4PzQRgCmGnd3VHnYHbTLavsIE6UjPSxIutW35xRju1e+Qoaxl5FzT5c+9zY7RQ=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <button class="theme-switcher" id="theme-switcher">ðŸŒ™</button>
  <!-- Navigation -->
  <nav class="main-nav">
    <a href="customers.html">Customers</a> |
    <a href="employee.html">New Quote</a> |
    <a href="manager.html">Manager</a>
  </nav>

  <h1>Request a Quote</h1>

  <!-- Upcoming Appointments Display -->
  <div class="upcoming-appointments-section">
    <div class="appointments-header">
      <h2><i class="fas fa-calendar-alt"></i> Today's Schedule</h2>
      <div class="appointments-controls">
        <button id="refresh-appointments" class="refresh-btn">
          <i class="fas fa-sync-alt"></i> Refresh
        </button>
        <select id="appointment-filter">
          <option value="today">Today</option>
          <option value="tomorrow">Tomorrow</option>
          <option value="week">This Week</option>
          <option value="all">All Upcoming</option>
        </select>
      </div>
    </div>
    
    <div id="appointments-container" class="appointments-container">
      <div class="loading-appointments">
        <i class="fas fa-spinner fa-spin"></i> Loading appointments...
      </div>
    </div>
  </div>

  <!-- 1) Customer Search & Selector -->
  <label class="form-label-block">
    Customer Search<br/>
    <input
      type="text"
      id="customer-search"
      placeholder="Type to searchâ€¦"
      autocomplete="off"
    />
  </label>
  <label class="form-label-block">
    Or Pick from List<br/>
    <select id="customer-select" required>
      <option value="">-- Select customer --</option>
    </select>
  </label>

  <button type="button" id="add-customer-btn" class="secondary">+ Add New Customer</button>

  <div id="add-customer-form" class="add-customer-form hidden">
    <h3>New Customer</h3>
    <form id="new-customer-form">
        <label>Name<br/>
          <input type="text" id="new-cust-name" required />
        </label>
        <label>Phone<br/>
          <input type="text" id="new-cust-phone" />
        </label>
        <label>Address<br/>
          <input type="text" id="new-cust-address" />
        </label>
        <label>Notes<br/>
          <textarea id="new-cust-notes"></textarea>
        </label>
        <button type="submit">Save Customer</button>
        <button type="button" id="cancel-new-customer">Cancel</button>
    </form>
  </div>

  <div id="customer-profile" class="customer-profile-card hidden">
    <h3 id="profile-name"></h3>
    <p><strong>Phone:</strong> <span id="profile-phone"></span></p>
    <p><strong>Address:</strong> <span id="profile-address"></span></p>
    <p><strong>Notes:</strong> <span id="profile-notes"></span></p>
    <div id="next-appointment" class="next-appointment-section">
      <h4>Next Appointment</h4>
      <div id="appointment-info" class="appointment-info">
        <!-- Appointment info will be populated by JavaScript -->
      </div>
    </div>
  </div>

  <!-- 2) Quote Label -->
  <label class="form-label-block">
    Quote label<br/>
    <input
      type="text"
      id="quote-label"
      placeholder="Enter quote label"
      required
    />
  </label>

  <!-- 3) Multi-Line Service Table -->
  <table id="quote-lines" class="quote-lines-table">
    <thead>
      <tr>
        <th>Search Service</th>
        <th>Search Description</th>
        <th>Or Pick from List</th>
        <th>Qty</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <!-- initial row will be injected by script.js -->
    </tbody>
  </table>

  <button id="add-line" type="button" class="add-service-btn">
    + Add Service
  </button>
  <div class="quote-summary">
    <p><strong>Estimated Total: $<span id="estimated-total">0.00</span></strong></p>
  </div>
  <button id="clear-quote" type="button" class="secondary">Clear Quote</button>
  <button id="submit-quote" type="button" class="submit-quote-btn">
    Submit Quote
  </button>

  <div id="quote-result" class="quote-result-display"></div>

  <script src="script.js"></script>
  <div id="toast-container"></div>
</body>
</html>
