<!-- customers.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1"
  />
  <title>Customer Admin</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap"
    rel="stylesheet"
  />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    integrity="sha512-MNH0TkN1Ua4+Rz5q7TnAyzmP4PzQRgCmGnd3VHnYHbTLavsIE6UjPSxIutW35xRju1e+Qoaxl5FzT5c+9zY7RQ=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <button class="theme-switcher" id="theme-switcher">üåô</button>
  <!-- NAV -->
  <nav class="main-nav">
    <a href="customers.html">Customers</a> |
    <a href="employee.html">New Quote</a> |
    <a href="manager.html">Manager</a>
  </nav>

  <h1>Customer Management</h1>

  <!-- Customer KPIs -->
  <div id="customer-kpi-cards">
    <div class="kpi-card">
      <h3>Total Customers</h3>
      <p id="kpi-total-customers">0</p>
    </div>
    <div class="kpi-card">
      <h3>Total Quotes</h3>
      <p id="kpi-total-quotes">0</p>
    </div>
    <div class="kpi-card">
      <h3>Total Revenue</h3>
      <p id="kpi-total-revenue">$0.00</p>
    </div>
  </div>

  <!-- 1) ADD CUSTOMER & LIST -->
  <section id="list-section">
    <form id="customer-form" class="customer-form-grid">
      <div>
        <label>Name<br/>
          <input type="text" id="cust-name" required />
        </label>
      </div>
      <div>
        <label>Phone<br/>
          <input type="text" id="cust-phone" />
        </label>
      </div>
      <div>
        <label>Address<br/>
          <input type="text" id="cust-address" />
        </label>
      </div>
      <div>
        <label>Notes<br/>
          <textarea id="cust-notes"></textarea>
        </label>
      </div>
      
      <!-- Appointment Section -->
      <div class="appointment-section-header">
        <h3>Schedule Initial Appointment</h3>
        <label class="checkbox-label">
          <input type="checkbox" id="schedule-appointment" />
          Schedule appointment for this customer
        </label>
      </div>
      
      <div id="appointment-fields" class="appointment-fields hidden">
        <div>
          <label>Appointment Date<br/>
            <input type="date" id="cust-appointment-date" />
          </label>
        </div>
        <div>
          <label>Appointment Time<br/>
            <input type="time" id="cust-appointment-time" />
          </label>
        </div>
        <div>
          <label>Duration (minutes)<br/>
            <input type="number" id="cust-appointment-duration" min="15" max="480" value="60" />
          </label>
        </div>
        <div>
          <label>Appointment Notes<br/>
            <textarea id="cust-appointment-notes"></textarea>
          </label>
        </div>
      </div>
      
      <button type="submit" class="add-customer-btn">
        Add Customer
      </button>
    </form>

    <!-- Search bar -->
    <label class="customer-search-label">
      <i class="fa fa-search" aria-hidden="true"></i>
      Search Customers:
      <input
        type="text"
        id="customer-search"
        placeholder="Type a name‚Ä¶"
        autocomplete="off"
      />
    </label>

    <table id="customers-table" class="customers-table">
      <thead class="customers-table-header">
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Phone</th>
          <th>Address</th>
          <th>Notes</th>
          <th>Total Spending</th>
          <th>Last Quote Date</th>
          <th>Next Appointment</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody><!-- JS injects here --></tbody>
    </table>
  </section>

  <!-- 2) DETAIL & EDIT PROFILE -->
  <section id="customer-detail" class="hidden">
    <h2>Customer Profile</h2>
    <div id="detail-info" class="card detail-info-card">
      <button id="edit-profile" class="edit-profile-btn">
        Edit Profile
      </button>
      <div id="profile-display" class="profile-display-grid"></div>
      <form id="profile-form" class="profile-form-grid hidden">
        <label>Name<br/><input type="text" id="edit-name" /></label>
        <label>Phone<br/><input type="text" id="edit-phone" /></label>
        <label>Address<br/><input type="text" id="edit-address" /></label>
        <label>Notes<br/><textarea id="edit-notes"></textarea></label>
        <button type="submit">Save</button>
        <button type="button" id="cancel-profile" class="secondary">Cancel</button>
      </form>
    </div>

    <h3>Appointments</h3>
    <div class="appointments-section">
      <button id="add-appointment-btn" class="add-appointment-btn">
        + Schedule New Appointment
      </button>
      
      <div id="add-appointment-form" class="add-appointment-form hidden">
        <h4>Schedule Appointment</h4>
        <form id="appointment-form">
          <label>Date<br/>
            <input type="date" id="appointment-date" required />
          </label>
          <label>Time<br/>
            <input type="time" id="appointment-time" required />
          </label>
          <label>Duration (minutes)<br/>
            <input type="number" id="appointment-duration" min="15" max="480" value="60" />
          </label>
          <label>Notes<br/>
            <textarea id="appointment-notes"></textarea>
          </label>
          <button type="submit">Schedule Appointment</button>
          <button type="button" id="cancel-appointment" class="secondary">Cancel</button>
        </form>
      </div>

      <table id="detail-appointments" class="detail-appointments-table">
        <thead class="detail-appointments-header">
          <tr>
            <th>Date</th>
            <th>Time</th>
            <th>Duration</th>
            <th>Status</th>
            <th>Notes</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody><!-- JS injects here --></tbody>
      </table>
    </div>

    <h3>Quotes</h3>
    <table id="detail-quotes" class="detail-quotes-table">
      <thead class="detail-quotes-header">
        <tr>
          <th>Quote #</th>
          <th>Label</th>
          <th>Date</th>
          <th>Total</th>
          <th>Actions</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody><!-- JS injects here --></tbody>
      <tfoot>
        <tr>
          <td colspan="4" class="grand-total-label"><strong>Grand Total:</strong></td>
          <td id="customer-total"></td>
        </tr>
      </tfoot>
    </table>

    <!-- Quote Details Panel -->
    <div id="quote-detail-panel" class="quote-detail-panel hidden">
      <h4>Quote Details</h4>
      <table id="quote-detail-table" class="quote-detail-table">
        <thead class="quote-detail-table-header">
          <tr><th>Service</th><th>Qty</th><th>Line Total</th></tr>
        </thead>
        <tbody><!-- JS injects here --></tbody>
        <tfoot>
          <tr>
            <td colspan="2"><strong>Subtotal</strong></td>
            <td id="quote-detail-subtotal"></td>
          </tr>
        </tfoot>
      </table>
      <button id="close-quote-detail">Close</button>
    </div>

    <button id="back-to-list">‚Üê Back to List</button>
  </section>

  <script src="script.js"></script>
</body>
</html>
